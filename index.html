<!doctype html>
<html>

<head>
    <title>Audio</title>
</head>

<body>



    <input type="button" value="PLAY" onclick="play()">

    <audio id="audio" src=""></audio>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js"></script>
    <script>
        var crypt = {
            secret: "CIPHERKEY",

            encrypt: function (clear) {
                var cipher = CryptoJS.AES.encrypt(clear, crypt.secret);
                cipher = cipher.toString();
                return cipher;
            },

            decrypt: function (cipher) {
                var decipher = CryptoJS.AES.decrypt(cipher, crypt.secret);
                decipher = decipher.toString(CryptoJS.enc.Utf8);
                return decipher;
            }
        };
        
        let url = "https://res.cloudinary.com/foxyplays989/video/upload/v1558369838/LetsGo.mp3";
        let cipher = crypt.encrypt(url);
        const audio = document.getElementById("audio");
        audio.src = cipher;

        function play() {
            const audio = document.getElementById("audio");
            var decipher = crypt.decrypt(cipher);
            playMusic(decipher, audio);
        }

        function playMusic(decipher, audio) {
            //kiểm tra xem có class đó chưa
            //nếu chưa thì tao mới
            //có rồi thì remove class xong r tạo cái mới
            let newAudio = audio.cloneNode(true);
            newAudio.src = decipher;
            newAudio.play();
        }

    </script>
</body>

</html>>